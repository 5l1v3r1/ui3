(function(m){var q="object array number string boolean date null".split(" ");var p=function(){function a(b){null==b&&(b={});this.options=b}a.prototype.htmlEncode=function(b){return null!==b?b.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};a.prototype.jsString=function(b){b=JSON.stringify(b).slice(1,-1);return this.htmlEncode(b)};a.prototype.decorateWithSpan=function(b,c){return'<span class="'+c+'">'+this.htmlEncode(b)+"</span>"};a.prototype.valueToHTML=
function(b,c){null==c&&(c=0);var a=Object.prototype.toString.call(b).match(/\s(.+)]/)[1].toLowerCase();if(this.options.strict&&!m.inArray(a,q))throw Error(""+a+" is not a valid JSON value type");return this[""+a+"ToHTML"].call(this,b,c)};a.prototype.nullToHTML=function(b){return this.decorateWithSpan("null","null")};a.prototype.dateToHTML=function(b){return this.stringToHTML(b)};a.prototype.functionToHTML=function(b){return this.decorateWithSpan("function","function")};a.prototype.undefinedToHTML=
function(){return this.decorateWithSpan("undefined","undefined")};a.prototype.numberToHTML=function(b){return this.decorateWithSpan(b,"num")};a.prototype.stringToHTML=function(b){if(/^(http|https|file):\/\/[^\s]+$/i.test(b))return'<a href="'+this.htmlEncode(b)+'"><span class="q">"</span>'+this.jsString(b)+'<span class="q">"</span></a>';var c="";b=this.jsString(b);if(this.options.nl2br){var a=/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g;a.test(b)&&(c=" multiline",b=(b+"").replace(a,"$1<br />"))}return'<span class="string'+
c+'">"'+b+'"</span>'};a.prototype.booleanToHTML=function(b){return this.decorateWithSpan(b,"bool")};a.prototype.arrayToHTML=function(b,a){var c,d;null==a&&(a=0);var e=!1;var f="";var h=b.length;var l=c=0;for(d=b.length;c<d;l=++c)l=b[l],e=!0,f+="<li>"+this.valueToHTML(l,a+1),1<h&&(f+=","),f+="</li>",h--;return e?'[<ul class="array level'+a+(0===a?"":" collapsible")+'">'+f+"</ul>]":"[ ]"};a.prototype.objectToHTML=function(b,a){var c;null==a&&(a=0);var d=!1;var e="";var f=0;for(c in b)f++;for(c in b){var h=
b[c];d=!0;var l=this.options.escape?this.jsString(c):c;e+='<li><a class="prop" href="javascript:;"><span class="q">"</span>'+l+'<span class="q">"</span></a>: '+this.valueToHTML(h,a+1);1<f&&(e+=",");e+="</li>";f--}return d?'{<ul class="obj level'+a+(0===a?"":" collapsible")+'">'+e+"</ul>}":"{ }"};a.prototype.jsonToHTML=function(b){return'<div class="jsonview">'+this.valueToHTML(b)+"</div>"};return a}();"undefined"!==typeof module&&null!==module&&(module.exports=p);var n=function(){function a(){}a.bindEvent=
function(b,a){b.firstChild.addEventListener("click",function(b){return function(c){return b.toggle(c.target.parentNode.firstChild,a)}}(this));var c=document.createElement("div");c.className="collapser";c.innerHTML=a.collapsed?"+":"-";c.addEventListener("click",function(b){return function(c){return b.toggle(c.target,a)}}(this));b.insertBefore(c,b.firstChild);if(a.collapsed)return this.collapse(c)};a.expand=function(b){var a=this.collapseTarget(b);if(""!==a.style.display){var g=a.parentNode.getElementsByClassName("ellipsis")[0];
a.parentNode.removeChild(g);a.style.display="";return b.innerHTML="-"}};a.collapse=function(b){var a=this.collapseTarget(b);if("none"!==a.style.display){a.style.display="none";var g=document.createElement("span");g.className="ellipsis";g.innerHTML=" &hellip; ";a.parentNode.insertBefore(g,a);return b.innerHTML="+"}};a.toggle=function(a,c){var b;null==c&&(c={});var d="none"===this.collapseTarget(a).style.display?"expand":"collapse";if(c.recursive_collapser){var e=a.parentNode.getElementsByClassName("collapser");
var f=[];var h=0;for(b=e.length;h<b;h++)a=e[h],f.push(this[d](a));return f}return this[d](a)};a.collapseTarget=function(a){a=a.parentNode.getElementsByClassName("collapsible");if(a.length)return a[0]};return a}();var k={collapse:function(a){if("-"===a.innerHTML)return n.collapse(a)},expand:function(a){if("+"===a.innerHTML)return n.expand(a)},toggle:function(a){return n.toggle(a)}};return m.fn.JSONView=function(){var a=arguments;if(null!=k[a[0]]){var b=a[0];return this.each(function(){var c=m(this);
if(null!=a[1]){var h=a[1];return c.find(".jsonview .collapsible.level"+h).siblings(".collapser").each(function(){return k[b](this)})}return c.find(".jsonview > ul > li .collapsible").siblings(".collapser").each(function(){return k[b](this)})})}var c=a[0];var g=a[1]||{};g=m.extend({collapsed:!1,nl2br:!1,recursive_collapser:!1,escape:!0,strict:!1},g);var d=new p(g);"[object String]"===Object.prototype.toString.call(c)&&(c=JSON.parse(c));var e=d.jsonToHTML(c);return this.each(function(){var a;var b=
m(this);b.html(e);var c=b[0].getElementsByClassName("collapsible");var d=[];var k=0;for(a=c.length;k<a;k++)b=c[k],"LI"===b.parentNode.nodeName?d.push(n.bindEvent(b.parentNode,g)):d.push(void 0);return d})}})(jQuery);